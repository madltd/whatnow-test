<nb-layout>
    <nb-layout-header class="tw-bg-transparent">
        <div class="tw-w-full tw-relative tw-z-10 tw-flex tw-justify-between tw-items-center max-content-width">
            <div class="tw-flex-1">
                <img src="./assets/logo.png" class="tw-h-10" />
            </div>
            <div class="tw-flex-1 tw-flex tw-items-center tw-justify-center tw-space-x-10">
                <a href="#" class="tw-text-lg tw-font-bold tw-text-gray-700 tw-no-underline">Home</a>
                <a href="#" class="tw-text-lg tw-font-bold tw-text-orange-500 tw-no-underline">Shop</a>
                <a href="#" class="tw-text-lg tw-font-bold tw-text-gray-700 tw-no-underline">Blog</a>
                <a href="#" class="tw-text-lg tw-font-bold tw-text-gray-700 tw-no-underline">Contact</a>
            </div>
            <div class="tw-flex-1 tw-flex tw-justify-end tw-items-center tw-space-x-4" *ngIf="(isAuthenticated$ | async); else loginEl">
                <p class="tw-font-semibold tw-text-gray-700 tw-no-underline">{{ cartTotal | currency:'GBP' }}</p>
                <button class="tw-h-10 tw-w-10 tw-flex tw-items-center tw-justify-center tw-border-white tw-border-2 tw-rounded-full" (click)="toggle()">
                    <nb-icon icon="shopping-cart-outline"></nb-icon>
                </button>
                <button class="tw-h-10 tw-w-10 tw-flex tw-items-center tw-justify-center tw-border-white tw-border-2 tw-rounded-full" (click)="logout()">
                    <nb-icon icon="log-out-outline"></nb-icon>
                </button>
            </div>
            <ng-template #loginEl>
                <div class="tw-flex-1 tw-flex tw-justify-end tw-items-center tw-space-x-4">
                    <button class="tw-h-10 tw-w-10 tw-flex tw-items-center tw-justify-center tw-border-white tw-border-2 tw-rounded-full" (click)="login()">
                        <nb-icon icon="log-in-outline"></nb-icon>
                    </button>
                </div>
            </ng-template>
        </div>
    </nb-layout-header>
    
    <nb-sidebar fixed right class="tw-shadow-xl tw-bg-white tw-rounded-tl-2xl" state="collapsed">
        <p class="tw-text-xl tw-font-medium tw-mb-5">Your Cart</p>
        <p class="tw-text-center tw-text-sm tw-text-gray-500" *ngIf="!cart.length">Your cart is empty</p>
        <div class="tw-w-full tw-flex tw-flex-col tw-space-y-4" *ngIf="cart.length">
            <app-product *ngFor="let item of cart" [product]="item"></app-product>
            <p class="tw-text-gray-700 tw-text-semibold tw-text-right">Total: {{ cartTotal | currency:'GBP' }}</p>
        </div>
    </nb-sidebar>

    <nb-layout-column>
        <div class="max-content-width main-bg tw-flex">
            <div class="tw-w-24 tw-py-8 tw-sticky side tw-top-0 tw-left-0 tw-flex tw-flex-col tw-items-center tw-justify-end">
                <div class="tw-flex-1"></div>
                <p class="tw-text-gray-700 tw-font-semibold tw-text-sm vertical-text">Scroll down</p>
                <div class="tw-w-1 tw-h-20 tw-bg-black tw-bg-opacity-25 tw-mt-10">
                    <div class="tw-w-full tw-h-1/2 tw-bg-black"></div>
                </div>
                <div class="tw-flex-1 tw-flex tw-items-end">
                    <button class="tw-h-10 tw-w-10 tw-flex tw-items-center tw-justify-center tw-border-white tw-border-2 tw-rounded-full">
                        <nb-icon icon="search-outline"></nb-icon>
                    </button>
                </div>
            </div>
            <div class="tw-flex-1 tw-pt-14">
                <router-outlet></router-outlet>
            </div>
            <div class="tw-w-24 tw-py-8 tw-sticky side tw-top-0 tw-right-0 tw-flex tw-flex-col tw-items-center tw-justify-end">
                <div class="tw-flex-1"></div>
                <p class="tw-text-gray-700 tw-whitespace-nowrap tw-font-semibold tw-text-sm vertical-text">Follow - Fb. / In. / Tw.</p>
                <div class="tw-flex-1 tw-flex tw-items-end">
                    <button class="tw-h-10 tw-w-10 tw-flex tw-items-center tw-justify-center tw-border-white tw-border-2 tw-rounded-full">
                        <nb-icon icon="toggle-right-outline"></nb-icon>
                    </button>
                </div>
            </div>
        </div>
    </nb-layout-column>
</nb-layout>
